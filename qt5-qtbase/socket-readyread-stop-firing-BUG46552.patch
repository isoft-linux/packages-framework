https://bugreports.qt.io/browse/QTBUG-34292
https://bugreports.qt.io/browse/QTBUG-46552
diff -Nur qtbase-opensource-src-5.5.0/src/network/socket/qabstractsocket.cpp qtbase-opensource-src-5.5.0n/src/network/socket/qabstractsocket.cpp
--- qtbase-opensource-src-5.5.0/src/network/socket/qabstractsocket.cpp	2015-06-29 20:04:47.000000000 +0000
+++ qtbase-opensource-src-5.5.0n/src/network/socket/qabstractsocket.cpp	2015-07-19 11:06:59.361967741 +0000
@@ -724,6 +724,8 @@
         || (!isBuffered && socketType == QAbstractSocket::TcpSocket && socketEngine)
         ;
 
+    if (socketType != QAbstractSocket::TcpSocket)
+        socketEngine->setReadNotificationEnabled(!socketEngine->hasPendingDatagrams());
     if (!emittedReadyRead && hasData) {
         QScopedValueRollback<bool> r(emittedReadyRead);
         emittedReadyRead = true;
@@ -745,8 +747,6 @@
         // - reached the buffer size limit
         if (isBuffered)
             socketEngine->setReadNotificationEnabled(readBufferMaxSize == 0 || readBufferMaxSize > q->bytesAvailable());
-        else if (socketType != QAbstractSocket::TcpSocket)
-            socketEngine->setReadNotificationEnabled(!socketEngine->hasPendingDatagrams());
     }
 
     // reset the read socket notifier state if we reentered inside the
